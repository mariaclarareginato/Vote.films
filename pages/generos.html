<<<<<<< HEAD
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gêneros</title>
    <link rel="stylesheet" href="../assets/css/styleGeneros.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="icon" href="../assets/img/icon/VOTE (1).png">
</head>

<body>
    <!---menu-->
    <header>
        <div class="menu__home_login">
            <a href="../pages/index.html">  
                <button type="button" class="btn btn-danger">HOME</button>
            </a>
            <img src="../assets/img/img-logo/1.jpg" class="img__menu">  
            <a href="../pages/guia.html"> 
                <button type="button" class="btn btn-light">GUIA</button>
            </a>
        </div>
        <h2 class="h2-">Selecione um Gênero e Vote!</h2>
    </header>
<!--cards duplas1-->
    <div class="cards">
        <a href="./votacao_front.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/pexels-pixabay-163347.jpg" alt="">
                    <h4 class="card__text">AÇÃO</h4>
                </div>
            </div>
        </a>
        
        <a href="./votacao_front2.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/foto comédia.PNG" alt="">
                    <h4 class="card__text">COMÉDIA</h4>
                </div>
            </div>
        </a>
    </div>
    <!--cards duplas2-->
    <div class="cards">
        <a href="./votacao_front3.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/foto documentários.PNG" alt="">
                    <h4 class="card__text">DOCUMENTÁRIOS</h4>
                </div>
            </div>
        </a>
        
        <a href="./votacao_front4.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/drama 3.jpg" alt="">
                    <h4 class="card__text">DRAMA</h4>
                </div>
            </div>
        </a>
    </div>
    <!--cards duplas3-->
    <div class="cards">
        <a href="./votacao_front5.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/foto famosos.PNG" alt="">
                    <h4 class="card__text">FAMOSOS</h4>
                </div>
            </div>
        </a>
        
        <a href="./votacao_front6.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/science-fiction-5105730_1280.jpg" alt="">
                    <h4 class="card__text">FICÇÃO CIENTÍFICA</h4>
                </div>
            </div>
        </a>
    </div>
    <!--cards duplas4-->
    <div class="cards">
        <a href="./votacao_front7.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/foto natalinos.jpg" alt="">
                    <h4 class="card__text">NATALINOS</h4>
                </div>
            </div>
        </a>
        
        <a href="./votacao_front8.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/marvel vs dc.jpg" alt="">
                    <h4 class="card__text">MARVEL vs DC</h4>
                </div>
            </div>
        </a>
    </div>
    <!--cards duplas5-->
    <div class="cards">
        <a href="./votacao_front9.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/foto medievais.PNG" alt="">
                    <h4 class="card__text">MEDIEVAIS</h4>
                </div>
            </div>
        </a>
        
        <a href="./votacao_front10.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/foto romance.PNG" alt="">
                    <h4 class="card__text">ROMANCE</h4>
                </div>
            </div>
        </a>
    </div>
    <!--card sozinho-->
    <div class="cards">
        <a href="./votacao_front11.php">
            <div class="card">
                <div class="card__image-wrapper">
                    <img class="card__image" src="../assets/img/img-generos/terror.jpg" alt="">
                    <h4 class="card__text">TERROR</h4>
                </div>
            </div>
        </a>
    </div>
          <!--footer-->
          <footer>
            <div class="footer-container">
                <!--  -->
                <div class="footer-section contact">
                    <h3>Contato</h3>
                    <p>Telefone: (11) 1234-5678</p>
                    <p>Email: vote.f@outlook.com</p>
                    <p>Endereço: R. Santo André, 680 - Boa Vista, São Caetano do Sul - SP, 09572-000</p>
                </div>
    
                <!--  -->
                <div class="footer-section links">
                    <h3>Links</h3>
                    <ul>
                        <li><a href="../pages/index.html">HOME</a></li>
                        <li><a href="../pages/sobre.html">SOBRE NÓS</a></li>
                        <li><a href="../pages/loginCadastro.php">LOGIN</a></li>
                        <li><a href="../pages/guia.html">GUIA</a></li>

                    </ul>
                </div>
    
                <!--  -->
                <div id="f" class="footer-section social">
                    <h3>Siga os criadores</h3>
                    <a href="#f" >Instagram: </a> |
                    <a href="https://www.instagram.com/felipehenryss/profilecard/?igsh=MXVkZXFvNWt1bjdqaw==" target="_blank">Felipe Henry </a> |
                    <a href="https://www.instagram.com/ma.rgnto?igsh=dnM2azZsMXowMG43" target="_blank"> Maria Clara</a> |
                    <a href="https://www.instagram.com/011_s0usax/profilecard/?igsh=ZDd3YzAxcGFib2Rr" target="_blank"> Richard Garcia</a> <br>
                    <a href="#" target="_blank">LinkedIn:</a> |
                    <a href="https://www.linkedin.com/in/felipe-henry-severino-sacchi-621983337/" target="_blank">Felipe Henry </a> |
                    <a href="https://www.linkedin.com/in/maria-clara-reginato-b44b63339/" target="_blank"> Maria Clara</a> |
                    <a href="https://www.linkedin.com/in/richard-sousa-garcia-b91986337?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank"> Richard Garcia</a> 
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 vote.f. Todos os direitos reservados.</p>
            </div>
           
        </footer>
</body>
=======
<!--ACAO-------------------------------------------------------->
<?php
session_start();

// Redireciona para garantir que os dados sejam manipulados sempre nesta página
if (basename($_SERVER['PHP_SELF']) !== 'index.php') {
    header("Location: index.php");
    exit;
}

// Reinicia a sessão se "reset" for chamado
if (isset($_GET['reset'])) {
    session_destroy();
    session_start();
}

// Inicializa a lista de filmes 
if (!isset($_SESSION['filmes'])) {
   $_SESSION['filmes'] = [
    ['nome' => 'Velozes e Furiosos', 'imagens' => 'velozes_e_furiosos.jpg'],
    ['nome' => 'Tropa de Elite', 'imagens' => 'tropa_de_elite.jpg'],
    ['nome' => 'Top Gun', 'imagens' => 'top_gun.jpg'],
    ['nome' => 'Missão: Impossível', 'imagens' => 'missao_impossivel.jpg'],
    ['nome' => 'John Wick', 'imagens' => 'john_wick.jpg'],
    ['nome' => 'Interestelar', 'imagens' => 'interstellar.jpg'],
    ['nome' => 'Indiana Jones', 'imagens' => 'indiana_jones.jpg'],
    ['nome' => 'Free Guy', 'imagens' => 'free_guy.jpg'],
    ['nome' => 'Ford vs Ferrari', 'imagens' => 'ford_vs_ferrari.jpg'],
    ['nome' => 'Cidade de Deus', 'imagens' => 'cidade_de_deus.jpg']
];
}

// Inicializa os filmes em votação
if (!isset($_SESSION['em_votacao'])) {
    $_SESSION['em_votacao'] = [array_shift($_SESSION['filmes']), array_shift($_SESSION['filmes'])];
}

// Processa o voto
if (isset($_GET['voto'])) {
    $voto = (int)$_GET['voto'];

    // Remove o filme perdedor
    $perdedor = $voto === 0 ? 1 : 0;
    unset($_SESSION['em_votacao'][$perdedor]);

    // Adiciona um novo filme à votação
    if (count($_SESSION['filmes']) > 0) {
        $_SESSION['em_votacao'][$perdedor] = array_shift($_SESSION['filmes']);
    }

    // Reorganiza os índices do array
    $_SESSION['em_votacao'] = array_values($_SESSION['em_votacao']);
}

// Checa se há apenas um filme restante e exibe o vencedor
if (count($_SESSION['em_votacao']) === 1) {
    $vencedor = $_SESSION['em_votacao'][0];
     echo "<!DOCTYPE html>
    <html lang='pt-br'>
    
    <head>
        <meta charset='UTF-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <title>Votação de Filmes</title>
        <link rel='stylesheet' href='../assets/css/styleVotacao.css'>
        <link rel='icon' href='../assets/img/icon/voteicon.png' >
        <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH' crossorigin='anonymous'>
    </head>
    
    <body>
        <header class= 'header-votacao'>
            <a href='../pages/generos.html'>  
                    <button type='button' class='btn btn-danger'>VOLTAR</button>
                </a>
            </header>
    
                <!-------->
                <div class='vencedor-container'>
                <h1>Filme Vencedor:</h1>
                <p class='text-vencedor'>{$vencedor['nome']}</p>
                <img src='../assets/img/filmes/comedia/{$vencedor['imagens']}' alt='{$vencedor['nome']}' class='img-vencedor'>
              </div>
    </body>
    
    </html>";
    session_destroy();
    exit;
}
?>

<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Votação de Filmes</title>
    <link rel="stylesheet" href="../assets/css/styleVotacao.css">
    <link rel="icon" href="../assets/img/icon/voteicon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
<header class= "header-votacao">
        <a href="../pages/generos.html">  
                <button type="button" class="btn btn-danger">VOLTAR</button>
            </a>
        </header>   
<!---main parte da votação-->
<main class="main">
        <h1 class="titulo">Escolha o filme:</h1>
        <div class="opcoes">
            <?php foreach ($_SESSION['em_votacao'] as $key => $filme): ?>
                <a href="index.php?voto=<?= $key ?>">
                    <input type="image" src="../assets/img/filmes/comedia/<?= $filme['imagens'] ?>" 
                           alt="<?= $filme['nome'] ?>" class="button">
                </a>
            <?php endforeach; ?>
        </div>
        <!-- Botão para reiniciar -->
        <div class="reset">
            <a href="index.php?reset=true">Reiniciar Votação</a>
        </div>
    </main>
</body>

>>>>>>> 4cb5a911dd941783ed47505729b1bd06d2ab0970
</html>
